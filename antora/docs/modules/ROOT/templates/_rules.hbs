{{! We can do this because the pkgInfo should be the same for every rule }}
{{#with this.[0].pkgInfo}}
= link:#{{ shortPath }}[{{ title }}]

{{#if summary }}{{ summary }}.{{/if}}

{{{ description }}}

* Subject type: `{{ subjectType }}`
* Package name: `{{ shortPath }}`
* Full package name: `{{ path }}`
{{/with}}

== Rules

{{#each .}}

[#{{ shortName }}]
=== link:#{{ shortName }}[{{ title }} rule]

{{{ description }}}

{{#each ruleData}}
The {{ toWords @key }} are:

----
{{#each .}}
{{ . }}
{{/each}}
----

{{/each}}

* Rule type: [rule-type-indicator {{ warningOrFailure }}]#{{ toUpper warningOrFailure }}#
* {{ toTitle warningOrFailure }} message: `{{ failureMsg }}`
* Code: `{{ shortName }}`
* Full name: `{{ fullName }}`
{{#if effectiveOn}}
* Effective from: `{{ effectiveOn }}`{{/if}}
* https://github.com/hacbs-contract/ec-policies/blob/main/{{ file }}#L{{ row }}[Source, window="_blank"]

{{/each}}
